/*
  gcc dbus-test.c `pkg-config --cflags dbus-glib-1` `pkg-config --libs dbus-glib-1` -o dbus-test
*/


#include <dbus/dbus-glib.h>
#include <stdio.h>
#include <stdlib.h>

int
main (int argc, char **argv)
{
  DBusGConnection *connection;
  GError *error;
  DBusGProxy *proxy;
  char **name_list;
  char **name_list_ptr;
  
  g_type_init ();

  error = NULL;
  connection = dbus_g_bus_get (DBUS_BUS_SESSION,
                               &error);
  if (connection == NULL)
    {
      g_printerr ("Failed to open connection to bus: %s\n",
                  error->message);
      g_error_free (error);
      exit (1);
    }

  g_print ("Successfully got system bus\n");
  return 0;
}


