/* https://bugreports.qt-project.org/browse/QTBUG-17238
   g++ test1.c -o test1 `pkg-config --cflags --libs QtGui`

   Can get Nokia Pure Text from http://maemo.org/packages/view/ttf-nokiapure/
   (get 1.52 or higher)
 */
#include <QtGui/QApplication>
#include <QtGui/QTextEdit>

int main(int argc, char **argv)
{
    QApplication app(argc, argv);

    QTextEdit text;
    //text.document()->setDefaultFont(QFont("Sans", 25)); // This works fine
    text.document()->setDefaultFont(QFont("Nokia Pure Text", 25));
    text.document()->setPlainText(QString::fromUtf8("a\u0323\u0303")); // crashes here
    text.show ();
    return app.exec();
}
